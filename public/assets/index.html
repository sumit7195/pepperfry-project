<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #wall{
            display: grid;
            grid-template-columns: repeat(4,20%);
            grid-gap:5%;
            margin-left: 5%;
        }
    </style>
</head>
<body>
    <div id="wall"></div>
</body>
</html>

<script>
let wall = document.getElementById("wall");
//let url = 'https://reqres.in/api/users?page=2';
let url = 'http://localhost:3000/products';

fetch(url)
.then(function (response){
    
        return response.json();  //returning a promise
    }).then(function (res){
        console.log("res",res);
        const data = res.data;
        
    //   data.map(function (item){
    //       var img = document.createElement("img");
    //       img.setAttribute("src",item.avatar);

    //       var name = document.createElement("h3");
    //       name.innerHTML = item.first_name;
    //       var last = document.createElement("h3");
    //       last.innerHTML = item.last_name;

    //       var body = document.querySelector("body");
    //       body.append(img,name,last);
    //   })
   
    appendProduct(data);
      

    })
    .catch(function (err){
        console.log("found an error in my fetch:", err)
    });

   function appendProduct(users_array){

      users_array.forEach(function(user){
         
      let div = document.createElement("div");

      let img = document.createElement("img");
      img.src = user.avatar;

      let name = document.createElement("p");
      name.innerText = `${user.first_name} ${user.last_name}_`
   
     let email = document.createElement("p");
     email.innerText = user.email;

     div.append(img,name, email);

     wall.append(div);
      } )
   }

</script>